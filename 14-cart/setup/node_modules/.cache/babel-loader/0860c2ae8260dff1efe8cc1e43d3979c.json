{"ast":null,"code":"const reducer = (state, action) => {\n  if (action.type === \"CLEAR_CART\") {\n    return { ...state,\n      cart: []\n    };\n  }\n\n  if (action.type === \"REMOVE\") {\n    return { ...state,\n      cart: state.cart.filter(cartItem => cartItem.id !== action.payload)\n    };\n  } // if (action.type === \"INCREASE\") {\n  // \tlet tempCart = state.cart.map((cartItem) => {\n  // \t\tif (cartItem.id === action.payload) {\n  // \t\t\treturn { ...cartItem, amount: cartItem.amount + 1 };\n  // \t\t}\n  // \t\treturn cartItem;\n  // \t});\n  // \treturn {\n  // \t\t...state,\n  // \t\tcart: tempCart,\n  // \t};\n  // }\n  // if (action.type === \"DECREASE\") {\n  // \tlet tempCart = state.cart\n  // \t\t.map((cartItem) => {\n  // \t\t\tif (cartItem.id === action.payload) {\n  // \t\t\t\treturn { ...cartItem, amount: cartItem.amount - 1 };\n  // \t\t\t}\n  // \t\t\tconsole.log(cartItem);\n  // \t\t\treturn cartItem;\n  // \t\t})\n  // \t\t.filter((cartItem) => cartItem.amount !== 0);\n  // \treturn {\n  // \t\t...state,\n  // \t\tcart: tempCart,\n  // \t};\n  // }\n\n\n  if (action.type === \"GET_TOTALS\") {\n    let {\n      total,\n      amount\n    } = state.cart.reduce((cartTotal, cartItem) => {\n      const {\n        price,\n        amount\n      } = cartItem;\n      const itemTotal = price * amount;\n      cartTotal.total += itemTotal;\n      cartTotal.amount += amount;\n      return cartTotal;\n    }, {\n      total: 0,\n      amount: 0\n    });\n    total = parseFloat(total.toFixed(2));\n    return { ...state,\n      total,\n      amount\n    };\n  }\n\n  if (action.type === \"LOADING\") {\n    return { ...state,\n      loading: true\n    };\n  }\n\n  if (action.type === \"DISPLAY_ITEMS\") {\n    return { ...state,\n      cart: action.payload,\n      loading: false\n    };\n  }\n\n  if (action.type === \"TOGGLE\") {\n    let tempCart = state.cart.map(cartItem => {\n      console.log(cartItem.id, action.payload.type);\n      return cartItem;\n    });\n    return { ...state,\n      cart: tempCart\n    };\n  }\n\n  return state;\n};\n\nexport default reducer;","map":{"version":3,"sources":["/home/saucebox11/projects/react-projects/14-cart/setup/src/reducer.js"],"names":["reducer","state","action","type","cart","filter","cartItem","id","payload","total","amount","reduce","cartTotal","price","itemTotal","parseFloat","toFixed","loading","tempCart","map","console","log"],"mappings":"AAAA,MAAMA,OAAO,GAAG,CAACC,KAAD,EAAQC,MAAR,KAAmB;AAClC,MAAIA,MAAM,CAACC,IAAP,KAAgB,YAApB,EAAkC;AACjC,WAAO,EAAE,GAAGF,KAAL;AAAYG,MAAAA,IAAI,EAAE;AAAlB,KAAP;AACA;;AAED,MAAIF,MAAM,CAACC,IAAP,KAAgB,QAApB,EAA8B;AAC7B,WAAO,EACN,GAAGF,KADG;AAENG,MAAAA,IAAI,EAAEH,KAAK,CAACG,IAAN,CAAWC,MAAX,CAAmBC,QAAD,IAAcA,QAAQ,CAACC,EAAT,KAAgBL,MAAM,CAACM,OAAvD;AAFA,KAAP;AAIA,GAViC,CAYlC;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA,MAAIN,MAAM,CAACC,IAAP,KAAgB,YAApB,EAAkC;AACjC,QAAI;AAAEM,MAAAA,KAAF;AAASC,MAAAA;AAAT,QAAoBT,KAAK,CAACG,IAAN,CAAWO,MAAX,CACvB,CAACC,SAAD,EAAYN,QAAZ,KAAyB;AACxB,YAAM;AAAEO,QAAAA,KAAF;AAASH,QAAAA;AAAT,UAAoBJ,QAA1B;AACA,YAAMQ,SAAS,GAAGD,KAAK,GAAGH,MAA1B;AACAE,MAAAA,SAAS,CAACH,KAAV,IAAmBK,SAAnB;AACAF,MAAAA,SAAS,CAACF,MAAV,IAAoBA,MAApB;AAEA,aAAOE,SAAP;AACA,KARsB,EASvB;AACCH,MAAAA,KAAK,EAAE,CADR;AAECC,MAAAA,MAAM,EAAE;AAFT,KATuB,CAAxB;AAcAD,IAAAA,KAAK,GAAGM,UAAU,CAACN,KAAK,CAACO,OAAN,CAAc,CAAd,CAAD,CAAlB;AAEA,WAAO,EAAE,GAAGf,KAAL;AAAYQ,MAAAA,KAAZ;AAAmBC,MAAAA;AAAnB,KAAP;AACA;;AAED,MAAIR,MAAM,CAACC,IAAP,KAAgB,SAApB,EAA+B;AAC9B,WAAO,EAAE,GAAGF,KAAL;AAAYgB,MAAAA,OAAO,EAAE;AAArB,KAAP;AACA;;AACD,MAAIf,MAAM,CAACC,IAAP,KAAgB,eAApB,EAAqC;AACpC,WAAO,EAAE,GAAGF,KAAL;AAAYG,MAAAA,IAAI,EAAEF,MAAM,CAACM,OAAzB;AAAkCS,MAAAA,OAAO,EAAE;AAA3C,KAAP;AACA;;AAED,MAAIf,MAAM,CAACC,IAAP,KAAgB,QAApB,EAA8B;AAC7B,QAAIe,QAAQ,GAAGjB,KAAK,CAACG,IAAN,CAAWe,GAAX,CAAgBb,QAAD,IAAc;AAC3Cc,MAAAA,OAAO,CAACC,GAAR,CAAYf,QAAQ,CAACC,EAArB,EAAyBL,MAAM,CAACM,OAAP,CAAeL,IAAxC;AACA,aAAOG,QAAP;AACA,KAHc,CAAf;AAIA,WAAO,EAAE,GAAGL,KAAL;AAAYG,MAAAA,IAAI,EAAEc;AAAlB,KAAP;AACA;;AAED,SAAOjB,KAAP;AACA,CA9ED;;AAgFA,eAAeD,OAAf","sourcesContent":["const reducer = (state, action) => {\n\tif (action.type === \"CLEAR_CART\") {\n\t\treturn { ...state, cart: [] };\n\t}\n\n\tif (action.type === \"REMOVE\") {\n\t\treturn {\n\t\t\t...state,\n\t\t\tcart: state.cart.filter((cartItem) => cartItem.id !== action.payload),\n\t\t};\n\t}\n\n\t// if (action.type === \"INCREASE\") {\n\t// \tlet tempCart = state.cart.map((cartItem) => {\n\t// \t\tif (cartItem.id === action.payload) {\n\t// \t\t\treturn { ...cartItem, amount: cartItem.amount + 1 };\n\t// \t\t}\n\t// \t\treturn cartItem;\n\t// \t});\n\n\t// \treturn {\n\t// \t\t...state,\n\t// \t\tcart: tempCart,\n\t// \t};\n\t// }\n\n\t// if (action.type === \"DECREASE\") {\n\t// \tlet tempCart = state.cart\n\t// \t\t.map((cartItem) => {\n\t// \t\t\tif (cartItem.id === action.payload) {\n\t// \t\t\t\treturn { ...cartItem, amount: cartItem.amount - 1 };\n\t// \t\t\t}\n\t// \t\t\tconsole.log(cartItem);\n\t// \t\t\treturn cartItem;\n\t// \t\t})\n\t// \t\t.filter((cartItem) => cartItem.amount !== 0);\n\t// \treturn {\n\t// \t\t...state,\n\t// \t\tcart: tempCart,\n\t// \t};\n\t// }\n\n\tif (action.type === \"GET_TOTALS\") {\n\t\tlet { total, amount } = state.cart.reduce(\n\t\t\t(cartTotal, cartItem) => {\n\t\t\t\tconst { price, amount } = cartItem;\n\t\t\t\tconst itemTotal = price * amount;\n\t\t\t\tcartTotal.total += itemTotal;\n\t\t\t\tcartTotal.amount += amount;\n\n\t\t\t\treturn cartTotal;\n\t\t\t},\n\t\t\t{\n\t\t\t\ttotal: 0,\n\t\t\t\tamount: 0,\n\t\t\t}\n\t\t);\n\t\ttotal = parseFloat(total.toFixed(2));\n\n\t\treturn { ...state, total, amount };\n\t}\n\n\tif (action.type === \"LOADING\") {\n\t\treturn { ...state, loading: true };\n\t}\n\tif (action.type === \"DISPLAY_ITEMS\") {\n\t\treturn { ...state, cart: action.payload, loading: false };\n\t}\n\n\tif (action.type === \"TOGGLE\") {\n\t\tlet tempCart = state.cart.map((cartItem) => {\n\t\t\tconsole.log(cartItem.id, action.payload.type);\n\t\t\treturn cartItem;\n\t\t});\n\t\treturn { ...state, cart: tempCart };\n\t}\n\n\treturn state;\n};\n\nexport default reducer;\n"]},"metadata":{},"sourceType":"module"}